(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{205:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"get-started"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-started","aria-hidden":"true"}},[t._v("#")]),t._v(" Get Started")]),t._v(" "),e("p",[t._v("Larametrics is a self-hosted metrics and notifications platform for Laravel apps. What exactly does that mean? Think of it like a simple version of sentry.io or rollbar.com. "),e("strong",[t._v("Consisting of a series of watchers keeping an eye on model changes, log entries, and route requests, Larametrics alerts you through email or Slack when one of your notification triggers is met.")])]),t._v(" "),e("p",[t._v("Some example notifications might be:")]),t._v(" "),e("ul",[e("li",[t._v("Email me when a "),e("code",[t._v("notice")]),t._v(" or "),e("code",[t._v("info")]),t._v(" message is logged")]),t._v(" "),e("li",[t._v("Alert me through Slack "),e("strong",[t._v("and")]),t._v(" email when an "),e("code",[t._v("error")]),t._v(" is logged")]),t._v(" "),e("li",[t._v("Let me know when an "),e("code",[t._v("Admin")]),t._v(" model is created or deleted")]),t._v(" "),e("li",[t._v("Tell me when someone visits the "),e("code",[t._v("/auth/login")]),t._v(" route")])]),t._v(" "),e("p",[t._v("In addition to notifications, a clean and responsive dashboard is provided thanks to "),e("a",{attrs:{href:"https://tabler.github.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tabler"),e("OutboundLink")],1),t._v(" that displays all of the model changes, log entries, and route requests stored since you installed Larametrics.")]),t._v(" "),e("p",[e("img",{attrs:{src:"/screenshot-larametrics-dashboard.png",alt:"Screenshot of the Larametrics Dashboard"}})]),t._v(" "),e("h2",{attrs:{id:"requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),e("ul",[e("li",[t._v("PHP 5.6.4 or higher")]),t._v(" "),e("li",[t._v("Laravel 5.2 or higher")]),t._v(" "),e("li",[t._v("guzzlehttp/guzzle (if notifications enabled)")])]),t._v(" "),e("h2",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),e("p",[t._v("Larametrics is installed as a standalone package through Composer:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("composer require aschmelyun/larametrics\n")])])]),e("p",[t._v("After Composer finishes up, you'll have to add the following line to your "),e("code",[t._v("config/app.php")]),t._v(" file if you're not on Laravel 5.5 or higher:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("Aschmelyun\\"),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Larametrics"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("LarametricsServiceProvider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v("\n")])])]),e("p",[t._v("Additionally, you'll want to get the config file copied over and add in the necessary database structure with:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("php artisan vendor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("publish "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("provider"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[t._v('"Aschmelyun\\Larametrics\\LarametricsServiceProvider"')]),t._v("\nphp artisan migrate\n")])])]),e("p",[e("strong",[t._v("Note:")]),t._v(" Notifications use queued jobs when available to prevent delays in app response time. If you don't have this database table set up already for queues, run "),e("code",[t._v("php artisan queue:table && php artisan migrate")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"adding-the-dashboard"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adding-the-dashboard","aria-hidden":"true"}},[t._v("#")]),t._v(" Adding the Dashboard")]),t._v(" "),e("p",[t._v("Once you have the package tied in to your Laravel app, it starts collecting data based off of the default config file and storing it in your database. In order to view the dashboard associated with Larametrics and analyse your metrics and notifications, you'll need to add in a helper method to your routes file of choice.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("\\"),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Aschmelyun"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Larametrics"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Larametrics")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("routes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Include that where (and how) you want the dashboard to appear. For reference, all Larametrics routes are wrapped under a "),e("code",[t._v("/metrics")]),t._v(" prefix, but you can adjust where you want the routes to appear. All that the above method is doing is referencing the internal routes file for Larametrics, and returning the contents within.")]),t._v(" "),e("p",[t._v("If you want to make sure that the dashboard can only be viewed by a particular user, or a group of users with specific credentials, I'd recommend that you "),e("a",{attrs:{href:"https://laravel.com/docs/5.7/middleware#registering-middleware",target:"_blank",rel:"noopener noreferrer"}},[t._v("create a custom middleware"),e("OutboundLink")],1),t._v(" and place the routes helper method in a group controlled by it.")]),t._v(" "),e("p",[t._v("In the following simple example, the Larametrics dashboard and all routes associated with it will only be viewable to users who are signed in (authenticated) to the application. When one of those users visits "),e("code",[t._v("/admin/metrics")]),t._v(", they'll have the main dashboard view presented to them.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// routes/web.php")]),t._v("\nRoute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'middleware'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'auth'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'prefix'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'admin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \\"),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Aschmelyun"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Larametrics"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Larametrics")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("routes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);